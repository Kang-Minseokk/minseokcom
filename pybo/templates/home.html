{% extends 'base.html' %}
{% block content %}

<head>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }

        .container {
            display: flex;
            position: relative;
        }

        .card {
            opacity: 0.8;
        }

        .card:hover {
            opacity: 1;
            cursor: pointer;
        }

        .sidebar {
            width: 200px;
            height: 400px;
            background-color: #f0f0f0;
            overflow: auto;
        }

        .category {
            position: relative;
            transition: left 0.3s ease-in-out;
        }

        .category ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .category li {
            margin-bottom: 10px;
        }

        /* ì¶”ê°€í•œ ìŠ¤íƒ€ì¼ */
        .category-details {
            display: none;
            padding-left: 15px;
        }

        .category.active .category-details {
            display: block;
        }

        .modal-select-button {
            font-family: bada_font;
            color: black;
            font-size: 20px;
            border: solid 1px #000;
            border-radius: 4px;
        }

        .content-container {
            display: flex;
        }

        .card-text {
            font-family: bada_font;
        }

        @keyframes cursor {
            to {
                border-color: transparent;
            }
        }

        .create-account-btn:hover {
            color: blue;
        }

        @media screen and (max-width: 767px) {
            body {
                font-size: 20px;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
</head>

<body>
    <div class="container-fluid area1" id="full-content" style="max-width: 80%; justify-content: center; margin-top: 10px;">
        <div class="row">
            {% for question in question_list %}
                <div class="card" style="height: 300px; width: 18%; margin: 5px;">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="{{ url_for('question.detail', question_id=question.id) }}" style="color:black; font-size: 20px;">{{ question.subject }}</a>
                        </h5>
                        <p class="card-text" style="font-family: bada_font;">{{ question.user.username }}</p>
                        <p class="card-text">{{ question.create_date|datetime }}</p>
                        <p class="card-text">{{ question.category }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row" style="display: flex; margin-top: 10px;">
            <div class="image-area" style="width: 40%; position: relative;"><img class="news_bg_image" src="{{ url_for('static', filename='image/paper.jpg') }}" style="width: 100%; height: 100%;">
                <span style="position: absolute; top: 5%; left: 5%; font-family: bada_font; font-size: 18px;">Daily News Topic</span>
                <span style="position: absolute; top: 15%; left: 5%; font-family: bada_font;">ğŸ‘‰ ë§¤ì¼ 8ì‹œ 30ë¶„, 19ì‹œ 00ë¶„ì— ìƒˆë¡œìš´ ì¸ê³µì§€ëŠ¥ ê´€ë ¨ ê¸°ì‚¬ê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</span>
                <span style="position: absolute; top: 35%; left: 5%; font-family: bada_font;">ğŸ‘‰ ì•„ë˜ì˜ ê¸°ì‚¬ì œëª©ì„ ëˆ„ë¥´ë©´ ë§í¬ë¥¼ í†µí•´ ê¸°ì‚¬ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
                <a id="newsLink" href="#" style="color: gray; position: absolute; top: 60%; left: 5%;; font-family: bada_font;"><h6 id="newsText" style="font-size: 20px;">ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤...</h6></a>
            </div>

            <div class="owner-info" style="margin-left: 15px; width: 40%;">
                <div class="owner-profile" style="width: 100%; height: 20%; background-color: #e3ded5; display: flex; align-items: center; justify-content: center;">
                    <span class="txt" style="font-family: yeongdeok_font; font-size: 20px; display: table-cell; vertical-align: middle; border-right: 0.05em solid #F81857; animation: cursor 0.5s ease infinite;"></span>
                </div>
                <div class="owner-detail" style="position: relative; width: 90%; height: 40%; border-radius: 10px; height: 300px; margin-top: 20px; white-space: pre-line;">
                    <p style="font-size: 20px; font-family: bada_font;">ì¸ê³µì§€ëŠ¥ì— ê´€ì‹¬ì´ ë§ì€ ì‚¬ëŒì˜ ê³µë¶€ê¸°ë¡ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.

                    Git Hub: Kang-Minseokk
                    Email: dreampilot920@naver.com
                    </p>
                </div>
            </div>
        </div>

    {% if not g.user %}
        <div class="suggest-modal" id="LoginModal" style="position: fixed; top: 35%; left: 30%; border: 1px solid #fff; background-color: #fff; opacity: 0.7; text-align: center; width: 40%; height: 40%; display: none;">
            <span style="font-family: yeongdeok_font; font-size: 30px;">ë¯¼ì„ ë¸”ë¡œê·¸ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•´ìš”!</span>
            <p style="white-space: pre-line; font-family: bada_font; font-size: 20px;">
                ê³„ì • ìƒì„±ì„ í•˜ê³  ë¡œê·¸ì¸ì„ í•˜ë©´ ê¸€ì´ ì˜¬ë¼ì˜¤ëŠ” ì†Œì‹ì„ ë°”ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.

                ëŒ“ê¸€ ì‘ì„±ê³¼ ê²Œì‹œê¸€ ì‘ì„±ì„ í†µí•´ í•¨ê»˜ ê³µë¶€í•  ìˆ˜ ìˆì–´ìš”.
                â›‘ï¸ ê°œë°œì´ ì§„í–‰ì¤‘ì¸ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ê³§ ì™„ì„±ë  ì˜ˆì •ì´ë‹ˆ ê¸°ëŒ€í•´ì£¼ì„¸ìš”!
                â›‘ï¸ ë” ë‚˜ì€ ê²½í—˜ì„ ìœ„í•´ ì»´í“¨í„° ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

            </p>
            <a class="modal-select-button create-account-btn" href="{{ url_for('auth.signup') }}">ê³„ì •ì„ ë§Œë“¤ê³  ì‹¶ì–´ìš”.</a>
            <a class="modal-select-button account-already-btn" href="{{ url_for('auth.login') }}">ì´ë¯¸ ê³„ì •ì´ ìˆì–´ìš”.</a>
            <a id="closeBtn" class="modal-select-button refuse-btn" href="#">ë‹¤ìŒì— í• ë˜ìš”.</a>
        </div>
    </div>

    {% endif %}

    <div id="data" style="display: none;">{{ daily_visit_list }}</div>
    <div id="post_list" style="display: none;">{{ post_list }}</div>
    <input type="hidden" name="kakaoId" id="kakaoId" value="{{ kakaoId or '' }}"/>
    <input type="hidden" name="newsList" id="newsList" value="{{ news_list or '' }}"/>
    <input type="hidden" name="newsListLink" id="newsListLink" value="{{ news_list_link or '' }}"/>

    <script>
        // í”Œë˜ê·¸ ë³€ìˆ˜
        var isWindowLoaded = false;

        // window.onload ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        window.onload = function () {
            // í”Œë˜ê·¸ ë³€ìˆ˜ê°€ falseì¸ ê²½ìš°ì—ë§Œ ì‹¤í–‰
            if (!isWindowLoaded) {
                // í”Œë˜ê·¸ ë³€ìˆ˜ë¥¼ trueë¡œ ë³€ê²½í•˜ì—¬ ì´í›„ì—ëŠ” ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ í•¨
                isWindowLoaded = true;
            }
        };

        //íƒ€ì´ë¨¸ë¥¼ ì‚¬ìš©í•´ì„œ ë‰´ìŠ¤ í† í”½ ìƒˆë¡œê³ ì¹¨ ìë™í™”í•˜ê¸°
        var newsListText = document.getElementById('newsList').value.split("', '");
        var newsListLink = document.getElementById('newsListLink').value.split("', '");
        newsListLink[0] = newsListLink[0].slice(29);
        newsListText[0] = newsListText[0].slice(29);
        newsListText[newsListText.length - 1] = newsListText[newsListText.length - 1].slice(0, -1);
        var num = 0;

        setInterval(function() {
            if (newsListText[num]) {
                let newsText = document.getElementById("newsText");
                newsText.textContent = newsListText[num];
                let newsLink = document.getElementById("newsLink");
                newsLink.href = newsListLink[num];
                num += 1;
            } else {
                num = 0;
            }
        }, 5000);

        const content = 'ì•ˆë…•í•˜ì„¸ìš”! ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš” :)';
        const txt = document.querySelector('.txt');
        let n=0;

        const typing = function() {
            txt.innerHTML += content[n++];
            if (n > content.length) {
                txt.innerHTML = '';
                n = 0;
            }
        };
        setInterval(typing, 300);

        var modalLogin = document.getElementById('LoginModal');
        function loginSuggestModal() {
                modalLogin.style.display = 'block';
            };
        setTimeout(loginSuggestModal, 10000);

        var closeBtn = document.getElementById('closeBtn');
        closeBtn.addEventListener('click', function() {
            modalLogin.style.display = 'none';
        });


    </script>
</body>
{% endblock %}
