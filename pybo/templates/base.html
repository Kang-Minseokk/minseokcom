<!doctype html>
<html lang="ko">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewpoint" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="Keywords" content="Web programing">
    <meta name="Keywords" content="ê°•ë¯¼ì„, minseokblog, minseokblog.com, minseok">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <!-- pybo CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Minseok-Blog</title>
    <style>
        @font-face {
            font-family: 'yeongdeok_font';
            src: url('../../static/fonts/Yeongdeok Snow Crab.ttf') format('truetype');
        }
        @font-face {
            font-family: 'yeongdeok_font';
            src: url('../static/fonts/Yeongdeok Snow Crab.ttf') format('truetype');
        }
        @font-face {
            font-family: 'bada_font';
            src: url('../static/fonts/Yeongdeok Sea.ttf') format('truetype');
        }
        @font-face {
            font-family: 'bada_font';
            src: url('../../static/fonts/Yeongdeok Sea.ttf') format('truetype');
        }

        .sidebar {
            width: 200px;
            height: 400px;
            background-color: white;
            overflow: auto;
            margin-top: 10px;
            box-shadow: 1px 2px 2px 4px #ababab;
            border-radius: 20px;
            margin-left: 5px;
            opacity: 0.9;
            top: 10px;
            position: sticky;
            z-index: 1;
        }

        .sidebar:hover {
            opacity: 1;
        }

        body {
            background: #b9c4c0;
            background-attachment: fixed;
        }

        .category-text {
            font-family: oblique;
        }

        #up-button {
            position: fixed;
            height: 30px;
            width: 30px;
            left: 10px;
            font-size: 20px;
            bottom: 5px;
            border: none;
            color: white;
            background-color: #ed9542;
            border-radius: 15px;
            box-shadow: 1px 1px 1px 2px #4d4d4d;
        }

        #kakao-button {
            position: fixed;
            height: 30px;
            width: 60px;
            left: 50px;
            font-size: 20px;
            bottom: 5px;
            border: none;
            color: white;
            border-radius: 15px;
            box-shadow: 1px 1px 1px 2px #4d4d4d;
        }

        #kakao-button:hover {
            cursor: pointer;
        }

        .fullCategory {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        .close:hover {
            cursor: pointer;
        }

        #category-content {
            border-radius: 10px;
            margin-top: 30px;
            margin-left: 20px;
            width: 1200px;
            height: 600px;
            z-index: 3;
            opacity: 0.8;
            transition: top 1s ease;
        }

        #category-content:hover {
            opacity: 0.9;
        }

        .big-category-subject {
            font-family: monospace;
        }

        .big-category-text {
            font-family: monospace;
            color: black;
            font-size: 20px;
            margin: 5px;
        }


        .category-text:hover {
            text-decoration: none;
        }

        .blog-info {
            height: 200px;
            width: 200px;
            background-color: white;
            position: sticky;
            top: 500px;
            margin-left: 5px;
            border-radius: 5px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            font-family: monospace;
            z-index: 0;
        }

        .modal-select-button {
            font-family: bada_font;
            color: black;
            font-size: 18px;
            border: solid 1px #000;
            border-radius: 4px;
        }

    </style>
</head>

<body>
{% include "navbar.html" %}
<!-- ê¸°ë³¸ í…œí”Œë¦¿ì— ì‚½ì…í•  ë‚´ìš© Start-->
<div class="row">
    <div id="category-content" style="display: block; position: absolute; top: -700px; left: 50px; background: #fff; padding: 20px;">
        <div class="row">
            <div class="container" style="width: 30%; height: 550px; border-right: 2px solid #787878; display: flex; flex-direction: column; overflow: auto;">
                <h2 class="big-category-subject">ğŸ“® Posts</h2>
                <a class="big-category-text" href="{{ url_for('question.ds_list', category='Data Science') }}">Data Science</a>
                <a class="big-category-text" href="{{ url_for('question.d_list') }}">Development</a>
                <a class="big-category-text" href="{{ url_for('question.cs_list') }}">Computer Science</a>
                <a class="big-category-text" href="{{ url_for('question.ai_list', num=0) }}">Artificial Intelligence</a>
                <a class="big-category-text" href="{{ url_for('question.r_list', num=0) }}">Relaxation</a>
                <a class="big-category-text" href="{{ url_for('question.c_list') }}">Communication</a>
                <a class="big-category-text" href="{{ url_for('goal.list') }}">My Goal</a>
                <a class="big-category-text" href="{{ url_for('calendar.show') }}">Calendar</a>

                <a href="{{ url_for('question.create') }}" class="btn btn-light" style="margin-top: 20px; border: 1px solid #000; position: absolute; bottom: 0;">âœï¸ ê¸€ ì‘ì„±</a>
            </div>
            <div class="container" style="width: 30%; height: 550px; border-right: 2px solid #787878; display: flex; flex-direction: column; overflow: auto;">
                <h2 class="big-category-subject">ğŸ“Š Statistic</h2>
                <a class="big-category-text" id="toolFolder" href="#">ğŸ“ Tools</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">Ploty.js</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">Chart.js</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">Pandas</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">Matplotlib</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">other</a>
                <a class="big-category-text below-tool-menu" href="#" style="display: none; margin-left: 20px;">the other</a>
                <a class="big-category-text" id="liveChartFolder" href="#">ğŸ“ Live Charts</a>
                <a class="big-category-text below-live-menu" href="{{ url_for('statistic.live_chart') }}" style="display: none; margin-left: 20px;">Temperature</a>
                <a class="big-category-text below-live-menu" href="#" style="display: none; margin-left: 20px;"></a>
                <a class="big-category-text below-live-menu" href="#" style="display: none; margin-left: 20px;">Hot Topic</a>

            </div>
            <div class="container" style="width: 30%; height: 550px; display: flex; flex-direction: column; overflow: auto;">
                <h2 class="big-category-subject">...</h2>
                <a class="big-category-text" href="#">RoadMap</a>
                <a class="big-category-text" href="{{ url_for('auth.friends') }}">Friends</a>
            </div>
        </div>

    </div>
    <div class="col-md-2" style="display: flex; flex-direction: column;">
        <div class="sidebar">
            <div class="category">
                <ul>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.ds_list', category='Data Science') }}">Data Science</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.d_list') }}">Development</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.cs_list') }}">Computer Science</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.ai_list', num=0) }}">Artificial Intelligence</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.r_list', num=0) }}">Relaxation</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('question.c_list') }}">Communication</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('goal.list') }}">My Goal</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('calendar.show') }}">Calendar</a></li>
                    <li class="category-layout"><a class="category-text" href="{{ url_for('statistic.s_list') }}">Statistic</a></li>
                    {% for category in category_list %}
                        <li class="category-layout"><a class="category-text" href="{{ url_for('question.ds_list', category=category) }}">{{ category }}</a></li>
                    {% endfor %}
                    <li class="category-layout"><button id="add-category" class="category-text">Add Category</button></li>
                </ul>
            </div>
        </div>
        <div class="blog-info">
            <span>âŒ› yesterday: {{ yesterday_visit_count }}</span>
            <span>â³ today: {{ today_visit_user_count }}</span>
            <span>ğŸš€ total: {{ total_visit_count }}</span>
            <span>ğŸ§‘ğŸ»â€ğŸ’» posts: {{ total_posts_count }}</span>
        </div>
        <div class="button-area" style="display: flex; flex-direction: row; background-color: white;">
            <button class="up-button" id="up-button">^</button>
            {% if g.user %}
            <img id="kakao-button" src="{{ url_for('static', filename='/image/kakao_channel.png') }}" onclick="kakaoOpenChat()">
            {% endif %}
        </div>
    </div>
    {% block content %}
    {% endblock %}
    <div id="fullCategory" class="fullCategory">
        <div class="modal-content">
            <span id="close-button" class="close">&times;</span>
            <form method="post">
                {{ form_for_new_category.csrf_token }}
                <!-- ì˜¤ë¥˜í‘œì‹œ start include ì‚¬ìš©ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ ì§ì ‘ ì½”ë“œë¥¼ ì‘ì„±í•´ì¤€ë‹¤. -->
                {% for field, errors in form_for_new_category.errors.items() %}
                <div class="alert alert-danger" role="alert">
                    <strong>{{ form_for_new_category[field].label }}</strong>: {{ ', '.join(errors) }}
                </div>
                {% endfor %}
                <input type="text" name="category" value="{{ form_for_new_category.category.data or '' }}">
                <button type="submit">ì¶”ê°€í•˜ê¸°</button>
            </form>
        </div>
    </div>
</div>

<div id="LoginModal" style="position: fixed; top: 40%; left: 30%; border: 1px solid #fff; background-color: #fff; opacity: 0.5; text-align: center; width: 40%; height: 30%; display: none;">
    <span style="font-family: yeongdeok_font; font-size: 30px;">ë¯¼ì„ ë¸”ë¡œê·¸ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•´ìš”!</span>
    <p style="white-space: pre-line; font-family: bada_font; font-size: 20px;">
        ê³„ì • ìƒì„±ì„ í•˜ê³  ë¡œê·¸ì¸ì„ í•˜ë©´ ê¸€ì´ ì˜¬ë¼ì˜¤ëŠ” ì†Œì‹ì„ ë°”ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´ìš”.

        ëŒ“ê¸€ ì‘ì„±ê³¼ ê²Œì‹œê¸€ ì‘ì„±ì„ í†µí•´ í•¨ê»˜ ê³µë¶€í•  ìˆ˜ ìˆì–´ìš”.
    </p>
    <a class="modal-select-button" href="{{ url_for('auth.signup') }}">ê³„ì •ì„ ë§Œë“¤ê³  ì‹¶ì–´ìš”.</a>
    <a class="modal-select-button" href="{{ url_for('auth.login') }}">ì´ë¯¸ ê³„ì •ì´ ìˆì–´ìš”.</a>
    <a id="closeBtn" class="modal-select-button" href="#">ë‹¤ìŒì— í• ë˜ìš”.</a>
</div>

<input type="hidden" id="redirect_url" value="{{ redirect_url }}">

<!-- ê¸°ë³¸ í…œí”Œë¦¿ì— ì‚½ì…í•  ë‚´ìš© End -->
<!-- jQuery JS -->
<script src="{{ url_for('static', filename='jquery-3.7.0.min.js') }}"></script>
<!-- Bootstrap JS -->
<script src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
<script>
    let io = 0;

    document.getElementById('category-menu').addEventListener('click', function() {
        var sidebar = document.querySelector('.sidebar');
        sidebar.style.transition = 'left 0.3s ease';
        var content = document.getElementById('full-content');
        if (io === 0) {
            sidebar.style.left = '-230px';
            io = 1;
            content.classList.remove('col-md-10');
            content.classList.add('col-md-12');
        } else {
            sidebar.style.left = '0';
            io = 0;
            content.classList.remove('col-md-12');
            content.classList.add('col-md-10');
        }
    });
    document.getElementById('up-button').addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    var fullCategory = document.getElementById("fullCategory");
    var btn = document.getElementById("add-category");
    var span = document.getElementById("close-button");
    btn.addEventListener('click', function() {
        fullCategory.style.display = "block";
    });

    span.onclick = function() {
        fullCategory.style.display = "none";
    }

    function showContent() {
        const categoryContent = document.getElementById('category-content');
        if (categoryContent.style.top === '-700px') {
            categoryContent.style.top = '50px';
        }
        else {
            categoryContent.style.top = '-700px';
        }
    }

    var toolFolder = document.getElementById('toolFolder');
    var belowToolMenu = document.querySelectorAll('.below-tool-menu');
    toolFolder.addEventListener('click', function() {
        if (belowToolMenu[0].style.display === 'none') {
            for (var i=0; i<belowToolMenu.length; i++) {
                belowToolMenu[i].style.display = 'block';
            }
        } else {
            for (var i=0; i<belowToolMenu.length; i++) {
                belowToolMenu[i].style.display = 'none';
            }
        }
    });

    var liveChartFolder = document.getElementById('liveChartFolder');
    var belowLiveMenu = document.querySelectorAll('.below-live-menu');
    liveChartFolder.addEventListener('click', function() {
        if (belowLiveMenu[0].style.display === 'none') {
            for (var i=0; i<belowLiveMenu.length; i++) {
                belowLiveMenu[i].style.display = 'block';
            }
        } else {
            for (var i=0; i<belowLiveMenu.length; i++) {
                belowLiveMenu[i].style.display = 'none';
            }
        }
    });

    function kakaoOpenChat() {
        window.location.href = 'https://pf.kakao.com/_xgVXCG';
    }


    var modalLogin = document.getElementById('LoginModal');
    function loginSuggestModal() {
        modalLogin.style.display = 'block';
    }
    setTimeout(loginSuggestModal, 10000);

    var closeBtn = document.getElementById('closeBtn');
    closeBtn.addEventListener('click', function() {
        modalLogin.style.display = 'none';
    })

</script>
</body>
</html>


{% block script %}
{% endblock %}